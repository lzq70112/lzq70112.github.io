(window.webpackJsonp=window.webpackJsonp||[]).push([[202],{672:function(s,a,e){"use strict";e.r(a);var t=e(20),n=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("p",[s._v("go的安装与初始化\n")]),s._v(" "),e("p",[s._v("本课程均来自七米老师万分感谢，个人学习留存，基本是很好的go学习文档了，基本没有改动")]),s._v(" "),e("p",[e("a",{attrs:{href:"https://www.liwenzhou.com/posts/Go/golang-menu/#autoid-0-1-0",target:"_blank",rel:"noopener noreferrer"}},[s._v("七米博客地址"),e("OutboundLink")],1)]),s._v(" "),e("h2",{attrs:{id:"_1、windows安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、windows安装"}},[s._v("#")]),s._v(" 1、Windows安装")]),s._v(" "),e("p",[s._v("Go官网下载地址：https://golang.org/dl/")]),s._v(" "),e("p",[s._v("Go官方镜像站（推荐）：https://golang.google.cn/dl/")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/lzq70112/images/blog/install01.png",alt:"install01"}})]),s._v(" "),e("h2",{attrs:{id:"_2、linux安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、linux安装"}},[s._v("#")]),s._v(" 2、linux安装")]),s._v(" "),e("p",[s._v("如果不是要在Linux平台敲go代码就不需要在Linux平台安装Go，我们开发机上写好的go代码只需要跨平台编译（详见文章末尾的跨平台编译）好之后就可以拷贝到Linux服务器上运行了，这也是go程序跨平台易部署的优势。")]),s._v(" "),e("p",[s._v("我们在版本选择页面选择并下载好"),e("code",[s._v("go1.14.1.linux-amd64.tar.gz")]),s._v("文件：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://dl.google.com/go/go1.14.1.linux-amd64.tar.gz\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("将下载好的文件解压到"),e("code",[s._v("/usr/local")]),s._v("目录下：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" -zxvf go1.14.1.linux-amd64.tar.gz -C /usr/local  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 解压")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("如果提示没有权限，加上"),e("code",[s._v("sudo")]),s._v("以root用户的身份再运行。执行完就可以在"),e("code",[s._v("/usr/local/")]),s._v("下看到"),e("code",[s._v("go")]),s._v("目录了。")]),s._v(" "),e("p",[s._v("配置环境变量： Linux下有两个文件可以配置环境变量，其中"),e("code",[s._v("/etc/profile")]),s._v("是对所有用户生效的；"),e("code",[s._v("$HOME/.profile")]),s._v("是对当前用户生效的，根据自己的情况自行选择一个文件打开，添加如下两行代码，保存退出。")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("GOROOT")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/go\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("export")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$PATH")]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$GOROOT")]),s._v("/bin\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("修改"),e("code",[s._v("/etc/profile")]),s._v("后要重启生效，修改"),e("code",[s._v("$HOME/.profile")]),s._v("后使用source命令加载"),e("code",[s._v("$HOME/.profile")]),s._v("文件即可生效。 检查：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("~ go version\ngo version go1.14.1 linux/amd64\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h2",{attrs:{id:"_3、goproxy"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3、goproxy"}},[s._v("#")]),s._v(" 3、GOPROXY")]),s._v(" "),e("p",[s._v("Go1.14版本之后，都推荐使用"),e("code",[s._v("go mod")]),s._v("模式来管理依赖环境了，也不再强制我们把代码必须写在"),e("code",[s._v("GOPATH")]),s._v("下面的src目录了，你可以在你电脑的任意位置编写go代码。（网上有些教程适用于1.11版本之前。）")]),s._v(" "),e("p",[s._v("可以执行下面的命令修改GOPROXY：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("go "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("env")]),s._v(" -w "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("GOPROXY")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://goproxy.cn,direct\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"_4、vs-code"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4、vs-code"}},[s._v("#")]),s._v(" 4、VS Code")]),s._v(" "),e("p",[e("code",[s._v("VS Code")]),s._v("官方下载地址：https://code.visualstudio.com/Download")]),s._v(" "),e("p",[e("strong",[s._v("配置")])]),s._v(" "),e("p",[e("strong",[s._v("安装中文简体插件")])]),s._v(" "),e("p",[s._v("点击左侧菜单栏最后一项"),e("code",[s._v("管理扩展")]),s._v("，在"),e("code",[s._v("搜索框")]),s._v("中输入"),e("code",[s._v("chinese")]),s._v(" ，选中结果列表第一项，点击"),e("code",[s._v("install")]),s._v("安装。")]),s._v(" "),e("p",[s._v("安装完毕后右下角会提示"),e("code",[s._v("重启VS Code")]),s._v("，重启之后你的VS Code就显示中文啦！")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/lzq70112/images/blog/vscode1.gif",alt:"安装简体中文插件"}})]),s._v(" "),e("p",[s._v("安装go的插件")]),s._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/lzq70112/images/blog/vscode_plugin.png",alt:"安装go扩展图"}})]),s._v(" "),e("h2",{attrs:{id:"_5、第一个go程序"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5、第一个go程序"}},[s._v("#")]),s._v(" 5、第一个go程序")]),s._v(" "),e("p",[e("strong",[s._v("Hello World")])]),s._v(" "),e("p",[s._v("现在我们来创建第一个Go项目——"),e("code",[s._v("hello")]),s._v("。在我们桌面创建一个"),e("code",[s._v("hello")]),s._v("目录。")]),s._v(" "),e("p",[e("strong",[s._v("go mod init")])]),s._v(" "),e("p",[s._v("使用go module模式新建项目时，我们需要通过"),e("code",[s._v("go mod init 项目名")]),s._v("命令对项目进行初始化，该命令会在项目根目录下生成"),e("code",[s._v("go.mod")]),s._v("文件。例如，我们使用"),e("code",[s._v("hello")]),s._v("作为我们第一个Go项目的名称，执行如下命令。")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("go mod init hello\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("strong",[s._v("编写代码")])]),s._v(" "),e("p",[s._v("接下来在该目录中创建一个"),e("code",[s._v("main.go")]),s._v("文件：")]),s._v(" "),e("div",{staticClass:"language-go line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-go"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" main  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 声明 main 包，表明当前是一个可执行程序")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fmt"')]),s._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 导入内置 fmt 包")]),s._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("func")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// main函数，是程序执行的入口")]),s._v("\n\tfmt"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("Println")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Hello World!"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 在终端打印 Hello World!")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("p",[e("strong",[s._v("非常重要！！！")]),s._v(" 如果此时VS Code右下角弹出提示让你安装插件，务必点 "),e("strong",[s._v("install all")]),s._v(" 进行安装。")]),s._v(" "),e("p",[e("strong",[s._v("编译")])]),s._v(" "),e("p",[e("code",[s._v("go build")]),s._v("命令表示将源代码编译成可执行文件。")]),s._v(" "),e("p",[s._v("在hello目录下执行：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("go build\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("或者在其他目录执行以下命令：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("go build hello\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("go编译器会去 "),e("code",[s._v("GOPATH")]),s._v("的src目录下查找你要编译的"),e("code",[s._v("hello")]),s._v("项目")]),s._v(" "),e("p",[s._v("编译得到的可执行文件会保存在执行编译命令的当前目录下，如果是windows平台会在当前目录下找到"),e("code",[s._v("hello.exe")]),s._v("可执行文件。")]),s._v(" "),e("p",[s._v("可在终端直接执行该"),e("code",[s._v("hello.exe")]),s._v("文件：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("c:"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("desktop"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("hello"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("hello.exe\nHello World"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("我们还可以使用"),e("code",[s._v("-o")]),s._v("参数来指定编译后得到的可执行文件的名字。")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("go build -o heiheihei.exe\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"_6、各平台编译"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6、各平台编译"}},[s._v("#")]),s._v(" 6、各平台编译")]),s._v(" "),e("p",[s._v("默认我们"),e("code",[s._v("go build")]),s._v("的可执行文件都是当前操作系统可执行的文件，Go语言支持跨平台编译——在当前平台（例如Windows）下编译其他平台（例如Linux）的可执行文件。")]),s._v(" "),e("h3",{attrs:{id:"_6-1、windows编译linux可执行文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-1、windows编译linux可执行文件"}},[s._v("#")]),s._v(" 6.1、Windows编译Linux可执行文件")]),s._v(" "),e("p",[s._v("如果我想在Windows下编译一个Linux下可执行文件，那需要怎么做呢？只需要在编译时指定目标操作系统的平台和处理器架构即可。")]),s._v(" "),e("blockquote",[e("p",[s._v("注意：无论你在Windows电脑上使用VsCode编辑器还是Goland编辑器，都要注意你使用的终端类型，因为不同的终端下命令不一样！！！目前的Windows通常默认使用的是"),e("code",[s._v("PowerShell")]),s._v("终端。")])]),s._v(" "),e("p",[s._v("如果你的"),e("code",[s._v("Windows")]),s._v("使用的是"),e("code",[s._v("cmd")]),s._v("，那么按如下方式指定环境变量。")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("SET "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CGO_ENABLED")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("  // 禁用CGO\nSET "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("GOOS")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("linux  // 目标平台是linux\nSET "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("GOARCH")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("amd64  // 目标处理器架构是amd64\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("如果你的"),e("code",[s._v("Windows")]),s._v("使用的是"),e("code",[s._v("PowerShell")]),s._v("终端，那么设置环境变量的语法为")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$ENV")]),s._v(":CGO_ENABLED"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$ENV")]),s._v(":GOOS"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"linux"')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$ENV")]),s._v(":GOARCH"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"amd64"')]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("在你的"),e("code",[s._v("Windows")]),s._v("终端下执行完上述命令后，再执行下面的命令，得到的就是能够在Linux平台运行的可执行文件了。")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("go build\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"_6-2、windows编译windows可执行文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-2、windows编译windows可执行文件"}},[s._v("#")]),s._v(" 6.2、Windows编译windows可执行文件")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("SET CGO_ENABLED=0  // 禁用CGO\nSET GOOS=windows  // 目标平台是windows\nSET GOARCH=amd64  // 目标处理器架构是amd64\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("p",[s._v("在你的"),e("code",[s._v("Windows")]),s._v("终端下执行完上述命令后，再执行下面的命令")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("go build\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"_6-3、linux编译windows可执行文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-3、linux编译windows可执行文件"}},[s._v("#")]),s._v(" 6.3、Linux编译Windows可执行文件")]),s._v(" "),e("p",[s._v("Linux平台下编译Windows平台64位可执行程序：")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("CGO_ENABLED")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("GOOS")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("windows "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("GOARCH")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("amd64 go build\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);