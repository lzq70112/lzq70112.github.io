(window.webpackJsonp=window.webpackJsonp||[]).push([[175],{645:function(s,a,t){"use strict";t.r(a);var n=t(20),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"_1、ansible之cfg文件优先级"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、ansible之cfg文件优先级"}},[s._v("#")]),s._v(" 1、ansible之cfg文件优先级")]),s._v(" "),t("ol",[t("li",[s._v("ANSIBLE_CONFIG：环境变量")]),s._v(" "),t("li",[s._v("ansible.cfg：当前执行目录下")]),s._v(" "),t("li",[s._v(".ansible.cfg：~/.ansible.cfg")]),s._v(" "),t("li",[s._v("/etc/ansible/ansible.cfg")])]),s._v(" "),t("p",[t("code",[s._v("ansible --version")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[s._v("ansible "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("core "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.11")]),s._v(".4"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" \n  config "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /etc/ansible/ansible.cfg\n  configured module search path "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("u"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/root/.ansible/plugins/modules'")]),s._v(", u"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/usr/share/ansible/plugins/modules'")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  ansible python module location "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /usr/local/lib/python2.7/dist-packages/ansible\n  ansible collection location "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /root/.ansible/collections:/usr/share/ansible/collections\n  executable location "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" /usr/local/bin/ansible\n  python version "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.7")]),s._v(".12 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("default, Mar  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2021")]),s._v(", "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),s._v(":38:31"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("GCC "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5.4")]),s._v(".0 "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20160609")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  jinja version "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.11")]),s._v(".3\n  libyaml "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" True\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("h2",{attrs:{id:"_2、hosts文件优先级"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、hosts文件优先级"}},[s._v("#")]),s._v(" 2、hosts文件优先级")]),s._v(" "),t("h3",{attrs:{id:"_1、-i-指定路径"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、-i-指定路径"}},[s._v("#")]),s._v(" "),t("strong",[s._v("1、-i 指定路径")])]),s._v(" "),t("p",[s._v("示例")]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("ansible-playbook -i "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"clusters/k8s-01/hosts"')]),s._v(" -e "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"@clusters/k8s-01/config.yml"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"playbooks/06.network.yml"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"_2-ansible-cfg指定路径"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-ansible-cfg指定路径"}},[s._v("#")]),s._v(" "),t("strong",[s._v("2.ansible.cfg指定路径")])]),s._v(" "),t("p",[s._v("因为ansible.cfg：当前执行目录下优先级高，所以定义的路径优先级也高")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("defaults"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\ninventory "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" ./hosts\nhost_key_checking "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" False\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"_3-默认路径"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-默认路径"}},[s._v("#")]),s._v(" "),t("strong",[s._v("3.默认路径")])]),s._v(" "),t("p",[s._v("不指定则会默认路径")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("/etc/ansible/hosts\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])])])}),[],!1,null,null,null);a.default=e.exports}}]);