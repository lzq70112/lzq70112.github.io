(window.webpackJsonp=window.webpackJsonp||[]).push([[174],{643:function(t,a,s){"use strict";s.r(a);var e=s(20),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("本页面记录常用的ad-hoc模式操作示例，playbook模式的操作待完善！\n")]),t._v(" "),s("h2",{attrs:{id:"_1、列出所有被管理主机list"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、列出所有被管理主机list"}},[t._v("#")]),t._v(" 1、列出所有被管理主机list")]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("ansible all --list\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h2",{attrs:{id:"_2、ping各节点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、ping各节点"}},[t._v("#")]),t._v(" 2、ping各节点")]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("ansible all -m "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ping")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h2",{attrs:{id:"_3、查看hostname"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、查看hostname"}},[t._v("#")]),t._v(" 3、查看hostname")]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("ansible all -m shell -a "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hostname'")]),t._v(" -o\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h2",{attrs:{id:"_3、查看主机内存信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、查看主机内存信息"}},[t._v("#")]),t._v(" 3、查看主机内存信息")]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("ansible all -m setup -a "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'filter=ansible_*_mb'")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h2",{attrs:{id:"_4、创建文件夹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4、创建文件夹"}},[t._v("#")]),t._v(" 4、创建文件夹")]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("ansible all -m "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" -a "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'path=/home/app state=directory'")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h2",{attrs:{id:"_5、查看文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5、查看文件"}},[t._v("#")]),t._v(" 5、查看文件")]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("ansible all -m shell -a "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ls -l /home/app'")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h2",{attrs:{id:"_6、删除文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6、删除文件"}},[t._v("#")]),t._v(" 6、删除文件")]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("ansible all -m "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),t._v(" -a "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'path=/home/app state=absent'")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h2",{attrs:{id:"_7、复制文件到本机"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7、复制文件到本机"}},[t._v("#")]),t._v(" 7、复制文件到本机")]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("ansible all -m fetch -a "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'src=/home/app/123.txt dest=/home'")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h2",{attrs:{id:"_8、yum安装软件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8、yum安装软件"}},[t._v("#")]),t._v(" 8、yum安装软件")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("选项")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("含义")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("name")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("nginx、git、…")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("软件包名称或url")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("state")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("present(默认)、absent、latest")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("安装、删除、最新版")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("enablerepo")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("epel、base")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("允许从哪些仓库获取软件")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("disablerepo")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("epel、base")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("进制从哪些仓库获取软件")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("exclude")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("kernel、…")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("排除哪些软件包")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("download_only")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Yes、no")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("仅下载软件包，不安装")])])])]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装最新版的Apache")]),t._v("\nansible all -m yum -a "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name=httpd state=latest"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# congepel仓库安装罪行的Apache")]),t._v("\nansible all -m yum -a "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name=httpd state=latest enablerepo=epel"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 删除Apache软件包")]),t._v("\nansible all -m yum -a "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"name=httpd state=absent"')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("h2",{attrs:{id:"_9、copy复制命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9、copy复制命令"}},[t._v("#")]),t._v(" 9、copy复制命令")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("选项")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("含义")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("src")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}}),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("源目录或文件")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("dest")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}}),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("目标目录或文件")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("remote_src")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("True、False")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("src是远程主机上还是在当前主机上，仅在mode=preserve有效")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("owner")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}}),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("所属用户")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("group")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}}),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("所属组")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("mode")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("0655、u=rw、u+rw")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("设置文件权限")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("backup")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("yes、no")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("是否备份目标文件")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("content")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}}),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("写入目标文件的内容")])])])]),t._v(" "),s("div",{staticClass:"language-sh line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 拷贝apache配置文件到目标机器")]),t._v("\nansible web -m copy -a "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"src=httpd.conf dest=/etc/httpd/conf/httpd.conf owner=root group=root mode=644"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 拷贝apache配置文件到目标机器，并备份目标文件")]),t._v("\nansible web -m copy -a "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"src=httpd.conf dest=/etc/httpd/conf/httpd.conf owner=root group=root mode=644 backup=yes"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在远程主机创建一个文件并写入内容")]),t._v("\nansible web -m copy -a "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"content=HelloWorld dest=/home/index.html"')]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("h2",{attrs:{id:"_10、git命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_10、git命令"}},[t._v("#")]),t._v(" 10、git命令")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("含义")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("repo")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("远程库下载地址")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("dest")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("更新目录")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("version")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("分支")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("update")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("yes、no，不更新代码，只确定库存在")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[t._v("clone")]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("yes、no，不下载代码，获取本地已存在仓库的信息")])])])]),t._v(" "),s("h2",{attrs:{id:"_11、apt命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_11、apt命令"}},[t._v("#")]),t._v(" 11、apt命令")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/lzq70112/images/blog/image-20210926085748724.png",alt:"image-20210926085748724"}})]),t._v(" "),s("div",{staticClass:"language-yaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 在安装foo软件包前更新然后安装foo")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" name=foo update_cache=yes\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 移除foo软件包")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" name=foo state=absent\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装foo软件包")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" name=foo state=present\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装foo 1.0软件包")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" name=foo=1.00 state=present\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装nginx最新的名字为squeeze-backport发布包，并且安装前执行更新")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" name=nginx state=latest default_release=squeeze"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("backports update_cache=yes\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 只下载openjdk-6-jdk最新的软件包，不安装")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" name=openjdk"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("6"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("jdk state=latest install_recommends=no\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装所有软件包到最新版本")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" upgrade=dist\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 更新apt-get的list")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" update_cache=yes\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 3600秒后停止update_cache")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("apt")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" update_cache=yes cache_valid_time=3600\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br")])]),s("h2",{attrs:{id:"_12、service"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_12、service"}},[t._v("#")]),t._v(" 12、service")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/lzq70112/images/blog/image-20210926090031643.png",alt:"image-20210926090031643"}})]),t._v(" "),s("div",{staticClass:"language-yaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 不管当前什么情况，停止apache")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("service")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" name=httpd state=stopped\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 不管当前什么情况，重启apache")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("service")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" name=httpd state=restarted\n\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 系统重启后，启动apache")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("service")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" name=httpd enabled=yes\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br")])]),s("h2",{attrs:{id:"_13、命令查询"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_13、命令查询"}},[t._v("#")]),t._v(" 13、命令查询")]),t._v(" "),s("p",[t._v("以上是部分常用模块的解释与示例，因为ansible的模块和参数很多，我们就不做详细解释了。但是这里要说一个非常非常重要的一点，以上全都是废话，任何一个模块，ansible都为我们提供了非常详细的解释文档，例如查看cron模块的用法，查询命令如下")]),t._v(" "),s("p",[s("code",[t._v("ansible-doc cron")])]),t._v(" "),s("p",[t._v("输入E 可以查看示例")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/lzq70112/images/blog/image-20210926085257268.png",alt:"image-20210926085257268"}})]),t._v(" "),s("p",[s("code",[t._v("ansible-doc -l > ansible.doc")]),t._v(" #将模块列表导出")])])}),[],!1,null,null,null);a.default=n.exports}}]);