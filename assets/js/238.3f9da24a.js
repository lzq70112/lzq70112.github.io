(window.webpackJsonp=window.webpackJsonp||[]).push([[238],{707:function(s,t,a){"use strict";a.r(t);var e=a(20),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("前置："),a("RouterLink",{attrs:{to:"/pages/b5e1429/"}},[s._v("master节点安装")])],1),s._v(" "),a("h2",{attrs:{id:"_1、jenkins之node节点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、jenkins之node节点"}},[s._v("#")]),s._v(" 1、Jenkins之node节点")]),s._v(" "),a("p",[s._v("在企业里面使用Jenkins自动部署+测试平台时，每天更新发布几个网站版本,不频繁,但是对于一些大型的企业来讲，Jenkins就需要同时处理很多的任务，这时候就需要借助Jenkins多个node或者我们所说的Jenkins分布式SLAVE")]),s._v(" "),a("h2",{attrs:{id:"_2、节点配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、节点配置"}},[s._v("#")]),s._v(" 2、节点配置")]),s._v(" "),a("p",[s._v("节点安装有多种方式ssh，web，jarwar")]),s._v(" "),a("p",[s._v("master节点")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/lzq70112/images/blog/image-20211016100830393.png",alt:"image-20211016100830393"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/lzq70112/images/blog/image-20211016101104675.png",alt:"image-20211016101104675"}})]),s._v(" "),a("p",[s._v("已经完成节点的配置了")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/lzq70112/images/blog/image-20211016101255937.png",alt:"image-20211016101255937"}})]),s._v(" "),a("p",[s._v("如果报"),a("strong",[s._v("从节点端口被禁用")]),s._v("点击“配置连接”或 系统管理->全局安全配置")]),s._v(" "),a("p",[s._v("指定一个固定端口进行连接")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/lzq70112/images/blog/image-20211016102330351.png",alt:"image-20211016102330351"}})]),s._v(" "),a("p",[s._v("此时在master端已经配置完成了")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/lzq70112/images/blog/image-20211016102846668.png",alt:"image-20211016102846668"}})]),s._v(" "),a("h2",{attrs:{id:"_3、节点安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3、节点安装"}},[s._v("#")]),s._v(" 3、节点安装")]),s._v(" "),a("p",[s._v("下载上面jar包")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /opt/jenkins/remoting -p  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 创建工作目录，不然可能会报错")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /opt/jenkins/\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://192.168.2.222:8080/jnlpJars/agent.jar\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("写入启动脚本")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token shebang important"}},[s._v("#! /bin/bash")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("nohup")]),s._v(" java -jar agent.jar -jnlpUrl http://192.168.2.222:8080/computer/node1/slave-agent.jnlp -secret 1d79cee86dd7b7abdc08c7ddfd6723f7222c5f890cba31689efa5e3b3d715312 -workDir "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/opt/jenkins"')]),s._v(" -failIfWorkDirIsMissing "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("code",[s._v("./ start.sh")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/lzq70112/images/blog/image-20211016104427839.png",alt:"image-20211016104427839"}})])])}),[],!1,null,null,null);t.default=n.exports}}]);